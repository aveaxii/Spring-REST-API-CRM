<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" xmlns:th="http://www.thymeleaf.org">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" th:href="@{/css/user.css}"/>
</head>
<body class="bg-light">
<!--    NAVIGATION START-->
    <nav class="navbar navbar-expand-lg bg-body-tertiary bg-dark border-bottom border-body" data-bs-theme="dark">
        <div class="container-fluid mx-3">

            <a class="navbar-brand" href="#">
                <span th:text="${user.getEmail()}"></span>
                <span class="user-roles">
                    &nbsp;with roles&nbsp;
                    <span th:text="'[' + ${user.getRoles()[0].name.substring(5)} + ']'">ROLE</span>
                </span>
            </a>

            <div class="navbar" id="navbarTooglerDemo3">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">

                </ul>

                <span class="">
                    <form th:action="@{/logout}" method="post">
                        <button class="btn" type="submit" id="customNavLogout">Logout</button>
                    </form>
                </span>
            </div>

        </div>
    </nav>
<!--NAVIGATION END-->

<div class="row">
    <div class="col-md-2 px-0 bg-white sidebar">
        <!--SIDEBAR START-->
        <div class="d-flex flex-column flex-shrink-0 bg-body-tertiary w-100" bis_skin_checked="1">
            <div class="list-group list-group-flush border-bottom scrollarea" bis_skin_checked="1">
                <a href="#" class="list-group-item list-group-item-action active py-3 mt-3 lh-sm rounded-end justify-content-center" aria-current="true">
                    <div class="col-10 mb-1 mx-auto small text-center" bis_skin_checked="1">
                        <span th:text="${user.getRoles()[0].name.substring(5)}" style="font-weight: bold">ROLE</span>
                    </div>
                </a>
            </div>
        </div>
        <!--SIDEBAR END-->
    </div>

    <div class="col-md-10 w-75" id="customContent" style="margin-top: 50px">
        <!--USER TABLE START-->
        <h1 class="mx-3">User Information Page</h1>
        <div class="card mx-3">
            <div class="card-header">
                <h3>About User</h3>
            </div>
            <div class="card-body">
                <div class="table-responsive-lg">
                    <table class="table table-borderless">
                        <thead class="table-header-bordered">
                        <tr>
                            <th>ID</th>
                            <th>First Name</th>
                            <th>Last Name</th>
                            <th>Birth year</th>
                            <th>Email</th>
                            <th>Roles</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr th:classappend="${user.id == currentUserId} ? 'table-active' : ''">
                            <td th:text="${user.getId()}">id</td>
                            <td th:text="${user.getName()}">first name</td>
                            <td th:text="${user.getSurname()}">last name</td>
                            <td th:text="${user.getBirthYear()}">birth year</td>
                            <td th:text="${user.getEmail()}">email</td>
                            <td th:text="'[' + ${user.getRoles()[0].name.substring(5)} + ']'">role</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <!--USER TABLE END-->
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
</body>
</html>